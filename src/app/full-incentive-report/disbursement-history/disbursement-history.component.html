<div class="d-flex flex-row ribbon">
  <!-- <div class="p-2 ribbon-block " appPermission permissionCode="402" (click)="OpenIncentiveReports()">
    <i class="fa fa-history"></i><br /><span>Disbursement</span>
  </div> -->
</div>
<h3 class="page-name" style="position:relative">
  <ol class="breadcrumb d-flex">
    <li class="breadcrumb-item active">Disbursement History</li>
  </ol>

</h3>
<div class="col-md-12 d-flex">
  <app-data-table [data]="gridData2.data" [settings]="gridData2.settings" [columnconfig]="gridData2.columnconfig"
                  [(events)]="gridData2.events" class="data-table"></app-data-table>
</div>
<div class="row">
  <div class="col-sm-4"></div>
  <div class="col-sm-4">
    <div class="row" *ngIf="scheduleReminderoption">
      <div class="col-sm-5">
        <div class="input-group">
          <input class="form-control" placeholder="yyyy-mm-dd" [disabled]="false" name="dpfromControl"
            [(ngModel)]="scheduledDate" ngbDatepicker #fromControl="ngbDatepicker">
          <button class="input-group-addon" (click)="fromControl.toggle()" type="button">
            <i class="fa fa-calendar" aria-hidden="true"></i>
          </button>
        </div>
        <div class="input-group">
          <p *ngIf="scheduleDateFlag" style="color:red">Date is required.</p>
        </div>
      </div>
      <div class="col-sm-2">
        <div class="input-group">
          <input type="time" [(ngModel)]="scheduledTime" name="schTime">
        </div>
        <div class="input-group">
          <p *ngIf="scheduleTimeFlag" style="color:red">Time is required.</p>
        </div>
      </div>
      <div class="col-sm-5">
        <button type="button" class="btn btn-primary ml-3" *ngIf="isTest" (click)="scheduleGenerate()">OK (Test)</button>
        <button type="button" class="btn btn-primary ml-3" *ngIf="!isTest" (click)="scheduleGenerate()">OK</button>
      </div>
    </div>
  </div>

  <div class="col-sm-2">
    <div class="dropdown">
      <button class="dropbtn btn btn-primary">Generate Test File</button>
      <div class="dropdown-content" style="right:0;">
        <a (click)="Generate(true)">Now</a>
        <a (click)="scheduleToggleForGenerateTestFile(true)">Schedule</a>
      </div>
    </div>
  </div>

  <div class="col-sm-1">
    <div class="dropdown">
      <button class="dropbtn btn btn-primary">Generate</button>
      <div class="dropdown-content" style="right:0;">
        <a (click)="Generate(false)">Now</a>
        <a (click)="scheduleToggleForGenerate(false)">Schedule</a>
      </div>
    </div>
  </div>

  <div class="col-sm-1"></div>

</div>
<div class="flex-row" style="width: 1%"></div>
  <div class="col-md-8 d-flex flex-row">
    <div class="col"> <label>From:</label></div>
    <div class="col-md-5">
      <div class="form-group">
        <div class="input-group">
          <input class="form-control" placeholder="yyyy-mm-dd" [disabled]="false" name="dpfrom"
                 [(ngModel)]="DateFilterFrom" ngbDatepicker #from="ngbDatepicker">
          <button class="input-group-addon" (click)="from.toggle()"  type="button">
            <i class="fa fa-calendar" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="col"> <label>To:</label></div>
    <div class="col-md-5">
      <div class="form-group">
        <div class="input-group">
          <input class="form-control" placeholder="yyyy-mm-dd" [disabled]="false" name="dpto" [(ngModel)]="DateFilterTo"
                 ngbDatepicker #to="ngbDatepicker">
          <button class="input-group-addon" (click)="to.toggle()" type="button">
            <i class="fa fa-calendar" aria-hidden="true"></i>
          </button>
        </div>
      </div>
    </div>
    <div class="col-md-5">
      <button type="button" class="btn btn-primary" (click)="GetHistory()">Go</button>
    </div>
  </div>


<div class="panel-body" style="text-align: center">
   <app-chart *ngIf="chart" [chart]="chart"></app-chart>
</div>
<div class="col-md-12 d-flex">
  <app-data-table [data]="gridData.data" [settings]="gridData.settings" [columnconfig]="gridData.columnconfig"
                  [(events)]="gridData.events" class="data-table"></app-data-table>
</div>
